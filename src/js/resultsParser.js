var fs = require('fs'); 
const { parse } = require('csv-parse');
var output = [];

function fillArray (element,t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21,t22,t23,t24,t25,t26,t27,t28,t29,t30,t31,t32,t33,t34,t35,t36,t37,t38,t39,t40,t41,t42,t43,t44,t45,t46,t47,t48,t49,t50,t51,t52,t53,t54,t55,t56,t57,t58,t59,t60,t61,t62,t63,t64,t65,t66,t67,t68,t69,t70,t71,t72,t73,t74,t75,t76,t77,t78,t79,t80,t81,t82,t83,t84,t85,t86,t87,t88,t89,t90,t91,t92,t93,t94,t95,t96,t97,t98,t99,t100,t101,t102,t103,t104,t105,t106,t107,t108,t109,t110,t111,t112,t113,t114,t115,t116,t117,t118,t119,t120,t121,t122,t123,t124,t125,t126,t127,t128,t129,t130,t131,t132,t133,t134,t135,t136,t137,t138,t139,t140,t141,t142,t143,t144,t145,t146,t147,t148,t149,t150,t151,t152,t153,t154,t155,t156,t157,t158,t159,t160,t161,t162,t163,t164,t165,t166,t167,t168,t169,t170,t171,t172,t173,t174,t175,t176,t177,t178,t179,t180,t181,t182,t183,t184,t185,t186,t187,t188,t189,t190,t191,t192,t193,t194,t195,t196,t197,t198,t199,t200,t201,t202,t203,t204,t205,t206,t207,t208,t209,t210,t211,t212,t213,t214,t215,t216,t217,t218,t219,t220,t221,t222,t223,t224,t225,t226,t227,t228,t229,t230,t231,t232,t233,t234,t235,t236,t237,t238,t239,t240)
{
	var data = {
		"element" : element.substring(1),
		"time1" : t1.substring(1),
		"time2" : t2.substring(1),
		"time3" : t3.substring(1),
		"time4" : t4.substring(1),
		"time5" : t5.substring(1),
		"time6" : t6.substring(1),
		"time7" : t7.substring(1),
		"time8" : t8.substring(1),
		"time9" : t9.substring(1),
		"time10" : t10.substring(1),
		"time11" : t11.substring(1),
		"time12" : t12.substring(1),
		"time13" : t13.substring(1),
		"time14" : t14.substring(1),
		"time15" : t15.substring(1),
		"time16" : t16.substring(1),
		"time17" : t17.substring(1),
		"time18" : t18.substring(1),
		"time19" : t19.substring(1),
		"time20" : t20.substring(1),
		"time21" : t21.substring(1),
		"time22" : t22.substring(1),
		"time23" : t23.substring(1),
		"time24" : t24.substring(1),
		"time25" : t25.substring(1),
		"time26" : t26.substring(1),
		"time27" : t27.substring(1),
		"time28" : t28.substring(1),
		"time29" : t29.substring(1),
		"time30" : t30.substring(1),
		"time31" : t31.substring(1),
		"time32" : t32.substring(1),
		"time33" : t33.substring(1),
		"time34" : t34.substring(1),
		"time35" : t35.substring(1),
		"time36" : t36.substring(1),
		"time37" : t37.substring(1),
		"time38" : t38.substring(1),
		"time39" : t39.substring(1),
		"time40" : t40.substring(1),
		"time41" : t41.substring(1),
		"time42" : t42.substring(1),
		"time43" : t43.substring(1),
		"time44" : t44.substring(1),
		"time45" : t45.substring(1),
		"time46" : t46.substring(1),
		"time47" : t47.substring(1),
		"time48" : t48.substring(1),
		"time49" : t49.substring(1),
		"time50" : t50.substring(1),
		"time51" : t51.substring(1),
		"time52" : t52.substring(1),
		"time53" : t53.substring(1),
		"time54" : t54.substring(1),
		"time55" : t55.substring(1),
		"time56" : t56.substring(1),
		"time57" : t57.substring(1),
		"time58" : t58.substring(1),
		"time59" : t59.substring(1),
		"time60" : t60.substring(1),
		"time61" : t61.substring(1),
		"time62" : t62.substring(1),
		"time63" : t63.substring(1),
		"time64" : t64.substring(1),
		"time65" : t65.substring(1),
		"time66" : t66.substring(1),
		"time67" : t67.substring(1),
		"time68" : t68.substring(1),
		"time69" : t69.substring(1),
		"time70" : t70.substring(1),
		"time71" : t71.substring(1),
		"time72" : t72.substring(1),
		"time73" : t73.substring(1),
		"time74" : t74.substring(1),
		"time75" : t75.substring(1),
		"time76" : t76.substring(1),
		"time77" : t77.substring(1),
		"time78" : t78.substring(1),
		"time79" : t79.substring(1),
		"time80" : t80.substring(1),
		"time81" : t81.substring(1),
		"time82" : t82.substring(1),
		"time83" : t83.substring(1),
		"time84" : t84.substring(1),
		"time85" : t85.substring(1),
		"time86" : t86.substring(1),
		"time87" : t87.substring(1),
		"time88" : t88.substring(1),
		"time89" : t89.substring(1),
		"time90" : t90.substring(1),
		"time91" : t91.substring(1),
		"time92" : t92.substring(1),
		"time93" : t93.substring(1),
		"time94" : t94.substring(1),
		"time95" : t95.substring(1),
		"time96" : t96.substring(1),
		"time97" : t97.substring(1),
		"time98" : t98.substring(1),
		"time99" : t99.substring(1),
		"time100" : t100.substring(1),
		"time101" : t101.substring(1),
		"time102" : t102.substring(1),
		"time103" : t103.substring(1),
		"time104" : t104.substring(1),
		"time105" : t105.substring(1),
		"time106" : t106.substring(1),
		"time107" : t107.substring(1),
		"time108" : t108.substring(1),
		"time109" : t109.substring(1),
		"time110" : t110.substring(1),
		"time111" : t111.substring(1),
		"time112" : t112.substring(1),
		"time113" : t113.substring(1),
		"time114" : t114.substring(1),
		"time115" : t115.substring(1),
		"time116" : t116.substring(1),
		"time117" : t117.substring(1),
		"time118" : t118.substring(1),
		"time119" : t119.substring(1),
		"time120" : t120.substring(1),
		"time121" : t121.substring(1),
		"time122" : t122.substring(1),
		"time123" : t123.substring(1),
		"time124" : t124.substring(1),
		"time125" : t125.substring(1),
		"time126" : t126.substring(1),
		"time127" : t127.substring(1),
		"time128" : t128.substring(1),
		"time129" : t129.substring(1),
		"time130" : t130.substring(1),
		"time131" : t131.substring(1),
		"time132" : t132.substring(1),
		"time133" : t133.substring(1),
		"time134" : t134.substring(1),
		"time135" : t135.substring(1),
		"time136" : t136.substring(1),
		"time137" : t137.substring(1),
		"time138" : t138.substring(1),
		"time139" : t139.substring(1),
		"time140" : t140.substring(1),
		"time141" : t141.substring(1),
		"time142" : t142.substring(1),
		"time143" : t143.substring(1),
		"time144" : t144.substring(1),
		"time145" : t145.substring(1),
		"time146" : t146.substring(1),
		"time147" : t147.substring(1),
		"time148" : t148.substring(1),
		"time149" : t149.substring(1),
		"time150" : t150.substring(1),
		"time151" : t151.substring(1),
		"time152" : t152.substring(1),
		"time153" : t153.substring(1),
		"time154" : t154.substring(1),
		"time155" : t155.substring(1),
		"time156" : t156.substring(1),
		"time157" : t157.substring(1),
		"time158" : t158.substring(1),
		"time159" : t159.substring(1),
		"time160" : t160.substring(1),
		"time161" : t161.substring(1),
		"time162" : t162.substring(1),
		"time163" : t163.substring(1),
		"time164" : t164.substring(1),
		"time165" : t165.substring(1),
		"time166" : t166.substring(1),
		"time167" : t167.substring(1),
		"time168" : t168.substring(1),
		"time169" : t169.substring(1),
		"time170" : t170.substring(1),
		"time171" : t171.substring(1),
		"time172" : t172.substring(1),
		"time173" : t173.substring(1),
		"time174" : t174.substring(1),
		"time175" : t175.substring(1),
		"time176" : t176.substring(1),
		"time177" : t177.substring(1),
		"time178" : t178.substring(1),
		"time179" : t179.substring(1),
		"time180" : t180.substring(1),
		"time181" : t181.substring(1),
		"time182" : t182.substring(1),
		"time183" : t183.substring(1),
		"time184" : t184.substring(1),
		"time185" : t185.substring(1),
		"time186" : t186.substring(1),
		"time187" : t187.substring(1),
		"time188" : t188.substring(1),
		"time189" : t189.substring(1),
		"time190" : t190.substring(1),
		"time191" : t191.substring(1),
		"time192" : t192.substring(1),
		"time193" : t193.substring(1),
		"time194" : t194.substring(1),
		"time195" : t195.substring(1),
		"time196" : t196.substring(1),
		"time197" : t197.substring(1),
		"time198" : t198.substring(1),
		"time199" : t199.substring(1),
		"time200" : t200.substring(1),
		"time201" : t201.substring(1),
		"time202" : t202.substring(1),
		"time203" : t203.substring(1),
		"time204" : t204.substring(1),
		"time205" : t205.substring(1),
		"time206" : t206.substring(1),
		"time207" : t207.substring(1),
		"time208" : t208.substring(1),
		"time209" : t209.substring(1),
		"time210" : t210.substring(1),
		"time211" : t211.substring(1),
		"time212" : t212.substring(1),
		"time213" : t213.substring(1),
		"time214" : t214.substring(1),
		"time215" : t215.substring(1),
		"time216" : t216.substring(1),
		"time217" : t217.substring(1),
		"time218" : t218.substring(1),
		"time219" : t219.substring(1),
		"time220" : t220.substring(1),
		"time221" : t221.substring(1),
		"time222" : t222.substring(1),
		"time223" : t223.substring(1),
		"time224" : t224.substring(1),
		"time225" : t225.substring(1),
		"time226" : t226.substring(1),
		"time227" : t227.substring(1),
		"time228" : t228.substring(1),
		"time229" : t229.substring(1),
		"time230" : t230.substring(1),
		"time231" : t231.substring(1),
		"time232" : t232.substring(1),
		"time233" : t233.substring(1),
		"time234" : t234.substring(1),
		"time235" : t235.substring(1),
		"time236" : t236.substring(1),
		"time237" : t237.substring(1),
		"time238" : t238.substring(1),
		"time239" : t239.substring(1),
		"time240" : t240.substring(1)
	}
	output.push(data);
}

var parser = parse({columns: true}, function (err, records) {
	for(const row of records) {
		fillArray(row.element, row.time1, row.time2, row.time3, row.time4, row.time5, row.time6, row.time7, row.time8, row.time9, row.time10, row.time11, row.time12, row.time13, row.time14, row.time15, row.time16, row.time17, row.time18, row.time19, row.time20, row.time21, row.time22, row.time23, row.time24, row.time25, row.time26, row.time27, row.time28, row.time29, row.time30, row.time31, row.time32, row.time33, row.time34, row.time35, row.time36, row.time37, row.time38, row.time39, row.time40, row.time41, row.time42, row.time43, row.time44, row.time45, row.time46, row.time47, row.time48, row.time49, row.time50, row.time51, row.time52, row.time53, row.time54, row.time55, row.time56, row.time57, row.time58, row.time59, row.time60, row.time61, row.time62, row.time63, row.time64, row.time65, row.time66, row.time67, row.time68, row.time69, row.time70, row.time71, row.time72, row.time73, row.time74, row.time75, row.time76, row.time77, row.time78, row.time79, row.time80, row.time81, row.time82, row.time83, row.time84, row.time85, row.time86, row.time87, row.time88, row.time89, row.time90, row.time91, row.time92, row.time93, row.time94, row.time95, row.time96, row.time97, row.time98, row.time99, row.time100, row.time101, row.time102, row.time103, row.time104, row.time105, row.time106, row.time107, row.time108, row.time109, row.time110, row.time111, row.time112, row.time113, row.time114, row.time115, row.time116, row.time117, row.time118, row.time119, row.time120, row.time121, row.time122, row.time123, row.time124, row.time125, row.time126, row.time127, row.time128, row.time129, row.time130, row.time131, row.time132, row.time133, row.time134, row.time135, row.time136, row.time137, row.time138, row.time139, row.time140, row.time141, row.time142, row.time143, row.time144, row.time145, row.time146, row.time147, row.time148, row.time149, row.time150, row.time151, row.time152, row.time153, row.time154, row.time155, row.time156, row.time157, row.time158, row.time159, row.time160, row.time161, row.time162, row.time163, row.time164, row.time165, row.time166, row.time167, row.time168, row.time169, row.time170, row.time171, row.time172, row.time173, row.time174, row.time175, row.time176, row.time177, row.time178, row.time179, row.time180, row.time181, row.time182, row.time183, row.time184, row.time185, row.time186, row.time187, row.time188, row.time189, row.time190, row.time191, row.time192, row.time193, row.time194, row.time195, row.time196, row.time197, row.time198, row.time199, row.time200, row.time201, row.time202, row.time203, row.time204, row.time205, row.time206, row.time207, row.time208, row.time209, row.time210, row.time211, row.time212, row.time213, row.time214, row.time215, row.time216, row.time217, row.time218, row.time219, row.time220, row.time221, row.time222, row.time223, row.time224, row.time225, row.time226, row.time227, row.time228, row.time229, row.time230, row.time231, row.time232, row.time233, row.time234, row.time235, row.time236, row.time237, row.time238, row.time239, row.time240);
		
			//row[0], row[1], row[2], row[3], row[4], row[5], row[6], row[7], row[8], row[9], row[10], row[11], row[12], row[13], row[14], row[15], row[16], row[17], row[18], row[19], row[20], row[21], row[22], row[23], row[24], row[25], row[26], row[27], row[28], row[29], row[30], row[31], row[32], row[33], row[34], row[35], row[36], row[37], row[38], row[39], row[40], row[41], row[42], row[43], row[44], row[45], row[46], row[47], row[48], row[49], row[50], row[51], row[52], row[53], row[54], row[55], row[56], row[57], row[58], row[59], row[60], row[61], row[62], row[63], row[64], row[65], row[66], row[67], row[68], row[69], row[70], row[71], row[72], row[73], row[74], row[75], row[76], row[77], row[78], row[79], row[80], row[81], row[82], row[83], row[84], row[85], row[86], row[87], row[88], row[89], row[90], row[91], row[92], row[93], row[94], row[95], row[96], row[97], row[98], row[99], row[100], row[101], row[102], row[103], row[104], row[105], row[106], row[107], row[108], row[109], row[110], row[111], row[112], row[113], row[114], row[115], row[116], row[117], row[118], row[119], row[120], row[121], row[122], row[123], row[124], row[125], row[126], row[127], row[128], row[129], row[130], row[131], row[132], row[133], row[134], row[135], row[136], row[137], row[138], row[139], row[140], row[141], row[142], row[143], row[144], row[145], row[146], row[147], row[148], row[149], row[150], row[151], row[152], row[153], row[154], row[155], row[156], row[157], row[158], row[159], row[160], row[161], row[162], row[163], row[164], row[165], row[166], row[167], row[168], row[169], row[170], row[171], row[172], row[173], row[174], row[175], row[176], row[177], row[178], row[179], row[180], row[181], row[182], row[183], row[184], row[185], row[186], row[187], row[188], row[189], row[190], row[191], row[192], row[193], row[194], row[195], row[196], row[197], row[198], row[199], row[200], row[201], row[202], row[203], row[204], row[205], row[206], row[207], row[208], row[209], row[210], row[211], row[212], row[213], row[214], row[215], row[216], row[217], row[218], row[219], row[220], row[221], row[222], row[223], row[224], row[225], row[226], row[227], row[228], row[229], row[230], row[231], row[232], row[233], row[234], row[235], row[236], row[237], row[238], row[239], row[240]);
	}

});

 //[ 'element', 'time1',  'time2',  'time3',  'time4',  'time5',  'time6',  'time7',  'time8',  'time9',  'time10',  'time11',  'time12',  'time13',  'time14',  'time15',  'time16',  'time17',  'time18',  'time19',  'time20',  'time21',  'time22',  'time23',  'time24',  'time25',  'time26',  'time27',  'time28',  'time29',  'time30',  'time31',  'time32',  'time33',  'time34',  'time35',  'time36',  'time37',  'time38',  'time39',  'time40',  'time41',  'time42',  'time43',  'time44',  'time45',  'time46',  'time47',  'time48',  'time49',  'time50',  'time51',  'time52',  'time53',  'time54',  'time55',  'time56',  'time57',  'time58',  'time59',  'time60',  'time61',  'time62',  'time63',  'time64',  'time65',  'time66',  'time67',  'time68',  'time69',  'time70',  'time71',  'time72',  'time73',  'time74',  'time75',  'time76',  'time77',  'time78',  'time79',  'time80',  'time81',  'time82',  'time83',  'time84',  'time85',  'time86',  'time87',  'time88',  'time89',  'time90',  'time91',  'time92',  'time93',  'time94',  'time95',  'time96',  'time97',  'time98',  'time99',  'time100',  'time101',  'time102',  'time103',  'time104',  'time105',  'time106',  'time107',  'time108',  'time109',  'time110',  'time111',  'time112',  'time113',  'time114',  'time115',  'time116',  'time117',  'time118',  'time119',  'time120',  'time121',  'time122',  'time123',  'time124',  'time125',  'time126',  'time127',  'time128',  'time129',  'time130',  'time131',  'time132',  'time133',  'time134',  'time135',  'time136',  'time137',  'time138',  'time139',  'time140',  'time141',  'time142',  'time143',  'time144',  'time145',  'time146',  'time147',  'time148',  'time149',  'time150',  'time151',  'time152',  'time153',  'time154',  'time155',  'time156',  'time157',  'time158',  'time159',  'time160',  'time161',  'time162',  'time163',  'time164',  'time165',  'time166',  'time167',  'time168',  'time169',  'time170',  'time171',  'time172',  'time173',  'time174',  'time175',  'time176',  'time177',  'time178',  'time179',  'time180',  'time181',  'time182',  'time183',  'time184',  'time185',  'time186',  'time187',  'time188',  'time189',  'time190',  'time191',  'time192',  'time193',  'time194',  'time195',  'time196',  'time197',  'time198',  'time199',  'time200',  'time201',  'time202',  'time203',  'time204',  'time205',  'time206',  'time207',  'time208',  'time209',  'time210',  'time211',  'time212',  'time213',  'time214',  'time215',  'time216',  'time217',  'time218',  'time219',  'time220',  'time221',  'time222',  'time223',  'time224',  'time225',  'time226',  'time227',  'time228',  'time229',  'time230',  'time231',  'time232',  'time233',  'time234',  'time235',  'time236',  'time237',  'time238',  'time239',  'time240' ]
var insertedHeader = "element,time1,time2,time3,time4,time5,time6,time7,time8,time9,time10,time11,time12,time13,time14,time15,time16,time17,time18,time19,time20,time21,time22,time23,time24,time25,time26,time27,time28,time29,time30,time31,time32,time33,time34,time35,time36,time37,time38,time39,time40,time41,time42,time43,time44,time45,time46,time47,time48,time49,time50,time51,time52,time53,time54,time55,time56,time57,time58,time59,time60,time61,time62,time63,time64,time65,time66,time67,time68,time69,time70,time71,time72,time73,time74,time75,time76,time77,time78,time79,time80,time81,time82,time83,time84,time85,time86,time87,time88,time89,time90,time91,time92,time93,time94,time95,time96,time97,time98,time99,time100,time101,time102,time103,time104,time105,time106,time107,time108,time109,time110,time111,time112,time113,time114,time115,time116,time117,time118,time119,time120,time121,time122,time123,time124,time125,time126,time127,time128,time129,time130,time131,time132,time133,time134,time135,time136,time137,time138,time139,time140,time141,time142,time143,time144,time145,time146,time147,time148,time149,time150,time151,time152,time153,time154,time155,time156,time157,time158,time159,time160,time161,time162,time163,time164,time165,time166,time167,time168,time169,time170,time171,time172,time173,time174,time175,time176,time177,time178,time179,time180,time181,time182,time183,time184,time185,time186,time187,time188,time189,time190,time191,time192,time193,time194,time195,time196,time197,time198,time199,time200,time201,time202,time203,time204,time205,time206,time207,time208,time209,time210,time211,time212,time213,time214,time215,time216,time217,time218,time219,time220,time221,time222,time223,time224,time225,time226,time227,time228,time229,time230,time231,time232,time233,time234,time235,time236,time237,time238,time239,time240";



//var readable = 
fs.createReadStream('../../data/CART-TIBIA-MED_S.csv')
													.pipe(parser)  // Path to csv goes here
													.on('finish', function() {
														//console.log(output); 
														console.log(output.element.time1);  									//any functions using the parsed data should be called in here
													});


